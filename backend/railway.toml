[build]
builder = "nixpacks"

[deploy]
startCommand = "uvicorn server:app --host 0.0.0.0 --port $PORT"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[[services]]
name = "siports-backend"

[services.variables]
PORT = "8000"
JWT_SECRET_KEY = "siports-jwt-secret-key-2024-production"
DATABASE_URL = "instance/siports_production.db"
